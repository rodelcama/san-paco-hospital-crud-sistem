<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>San Paco | Registro de Paciente</title>
    <link rel="stylesheet" href="../CSS/registro-paciente.css" />
  </head>
  <body>
    <!-- Barra de navegación -->
    <nav class="navbar">
      <div class="navbar-logo-nombre-centro">
        <img src="../Images/logo.jpg" alt="Logo San Paco" class="navbar-logo" />
        <span class="navbar-title">Hospital San Paco</span>
      </div>
    </nav>

    <!-- Encabezado -->
    <header>
      <div class="system-info titulos">
        <strong>Sistema de Información Web</strong>
        <span class="dashboard-title">San Paco Hospital</span>
        <p>Registro de nuevo paciente en el sistema</p>
      </div>
    </header>
    
    <main>
      <section class="registro-section">
        <h2>Registro de Paciente</h2>
        <form class="registro-form" autocomplete="off" onsubmit="registrarPaciente(event)">
          
          <!-- Sección 1: Información Personal -->
          <fieldset class="seccion">
            <legend>Información Personal</legend>
            
            <label for="nombres">Nombres:</label>
            <input type="text" id="nombres" name="nombres" placeholder="Ingrese sus nombres completos" required>

            <label for="apellidos">Apellidos:</label>
            <input type="text" id="apellidos" name="apellidos" placeholder="Ingrese sus apellidos completos" required>

            <label for="tipo-documento">Tipo de Documento:</label>
            <select id="tipo-documento" name="tipo-documento" required>
              <option value="">Seleccione...</option>
              <option value="CC">Cédula de Ciudadanía (CC)</option>
              <option value="CE">Cédula de Extranjería (CE)</option>
              <option value="Pasaporte">Pasaporte</option>
              <option value="TI">Tarjeta de Identidad (TI)</option>
            </select>

            <label for="numero-documento">Número de Documento:</label>
            <input type="text" id="numero-documento" name="numero-documento" placeholder="Ingrese número de documento" onblur="generarUsuario()" required>

            <label for="fecha-nacimiento">Fecha de Nacimiento:</label>
            <input type="date" id="fecha-nacimiento" name="fecha-nacimiento" required>
          </fieldset>

          <!-- Sección 2: Información de Contacto -->
          <fieldset class="seccion">
            <legend>Información de Contacto</legend>
            
            <label for="telefono">Teléfono:</label>
            <input type="tel" id="telefono" name="telefono" placeholder="Ej: 3001234567" required>

            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" placeholder="Ej: paciente@email.com" required>

            <label for="direccion">Dirección:</label>
            <input type="text" id="direccion" name="direccion" placeholder="Ej: Calle 123 #45-67" required>

            <label for="pais">País:</label>
            <select id="pais" name="pais" required>
              <option value="">Seleccione...</option>
              <option value="Colombia">Colombia</option>
              <option value="Venezuela">Venezuela</option>
              <option value="Ecuador">Ecuador</option>
              <option value="Perú">Perú</option>
              <option value="Argentina">Argentina</option>
              <option value="México">México</option>
              <option value="Otro">Otro</option>
            </select>

            <label for="ciudad">Ciudad:</label>
            <input type="text" id="ciudad" name="ciudad" placeholder="Ej: Bogotá" required>
          </fieldset>

          <!-- Sección 3: Información Médica -->
          <fieldset class="seccion">
            <legend>Información Médica</legend>
            
            <label for="tipo-sangre">Tipo de Sangre:</label>
            <select id="tipo-sangre" name="tipo-sangre" required>
              <option value="">Seleccione...</option>
              <option value="A+">A+</option>
              <option value="A-">A-</option>
              <option value="B+">B+</option>
              <option value="B-">B-</option>
              <option value="AB+">AB+</option>
              <option value="AB-">AB-</option>
              <option value="O+">O+</option>
              <option value="O-">O-</option>
            </select>

            <label for="alergias">Alergias (opcional):</label>
            <textarea id="alergias" name="alergias" rows="2" placeholder="Indique si tiene alguna alergia conocida"></textarea>

            <label for="enfermedades">Enfermedades Preexistentes (opcional):</label>
            <textarea id="enfermedades" name="enfermedades" rows="2" placeholder="Indique si padece alguna enfermedad"></textarea>

            <label for="contacto-emergencia">Contacto de Emergencia - Nombre:</label>
            <input type="text" id="contacto-emergencia" name="contacto-emergencia" placeholder="Nombre del contacto de emergencia">

            <label for="telefono-emergencia">Contacto de Emergencia - Teléfono:</label>
            <input type="tel" id="telefono-emergencia" name="telefono-emergencia" placeholder="Teléfono de emergencia">
          </fieldset>

          <!-- Sección 4: Credenciales de Acceso -->
          <fieldset class="seccion seccion-credenciales">
            <legend>Credenciales de Acceso al Sistema</legend>
            
            <label for="usuario">Usuario:</label>
            <input type="text" id="usuario" name="usuario" disabled placeholder="Se autocompleta con el número de documento">

            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" placeholder="Ingrese una contraseña segura" required minlength="4">

            <label for="password-confirm">Confirmar Contraseña:</label>
            <input type="password" id="password-confirm" name="password-confirm" placeholder="Confirme su contraseña" required minlength="4">
          </fieldset>

          <!-- Términos y condiciones -->
          <div class="terminos">
            <label>
              <input type="checkbox" id="acepto-terminos" name="acepto-terminos" required>
              Acepto los <a href="#" target="_blank">términos y condiciones</a> y la <a href="#" target="_blank">política de privacidad</a>
            </label>
          </div>

          <!-- Botones de acción -->
          <div class="botones-accion">
            <button type="submit" class="accion-btn registrar">REGISTRARSE</button>
            <button type="button" class="accion-btn cancelar" onclick="location.href='../index.html'">CANCELAR</button>
          </div>

          <!-- Enlace para iniciar sesión -->
          <div class="login-link">
            <p>¿Ya tiene una cuenta? <a href="../index.html">Inicie sesión aquí</a></p>
          </div>
        </form>
      </section>
    </main>

    <footer>
      <p>
        &copy; 2025 Hospital San Paco. Todos los derechos reservados. |
        Contacto: <a href="mailto:info@sanpaco.com">info@sanpaco.com</a>
      </p>
    </footer>

    <script>
      // Generar usuario automáticamente desde número de documento
      function generarUsuario() {
        const numeroDocumento = document.getElementById('numero-documento').value;
        const usuarioInput = document.getElementById('usuario');
        
        if (numeroDocumento.trim() !== '') {
          usuarioInput.value = numeroDocumento.trim();
        }
      }

      // Validar y registrar paciente
      function registrarPaciente(event) {
        event.preventDefault();
        
        const password = document.getElementById('password').value;
        const passwordConfirm = document.getElementById('password-confirm').value;
        
        // Validar que las contraseñas coincidan
        if (password !== passwordConfirm) {
          alert('Las contraseñas no coinciden. Por favor, verifique e intente nuevamente.');
          document.getElementById('password-confirm').focus();
          return;
        }
        
        // Validar términos y condiciones
        const aceptoTerminos = document.getElementById('acepto-terminos').checked;
        if (!aceptoTerminos) {
          alert('Debe aceptar los términos y condiciones para continuar.');
          return;
        }
        
        // Simulación de registro exitoso
        alert('¡Registro exitoso!\n\nSu cuenta ha sido creada correctamente.\nAhora puede iniciar sesión con su usuario y contraseña.');
        
        // Redirigir al login
        window.location.href = '../index.html';
      }
    </script>
  </body>
</html>
